<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/dailyQuestion/styles.8babad30960a43bbe307.css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.container{display:grid;text-align:center}.sideNav{grid-column:1/1}.main{grid-column:2/9;vertical-align:center}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.sideNav{max-width:240px;border-right:1px solid rgba(.1,.1,.1,.1)}.oldQuestions{list-style:none}.linkToAnswer{margin-top:30px;background-color:#639;box-shadow:0 5px 0 #fff;color:#fff;padding:1em 1.5em;position:relative;text-decoration:none;text-transform:uppercase}.linkToAnswer:hover{background-color:#ce0606;cursor:pointer}.linkToAnswer:active{box-shadow:none;top:5px}</style><meta name="generator" content="Gatsby 2.21.22"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/dailyQuestion/webpack-runtime-942c3bc6ff079ed8cde2.js"/><link as="script" rel="preload" href="/dailyQuestion/framework-20ef01989315425214b5.js"/><link as="script" rel="preload" href="/dailyQuestion/app-d2e35bdbcee4a85d6682.js"/><link as="script" rel="preload" href="/dailyQuestion/styles-8636a280cbc61d53ad10.js"/><link as="script" rel="preload" href="/dailyQuestion/component---src-templates-answer-template-js-45b47eaa5d8eb32c4c6a.js"/><link as="fetch" rel="preload" href="/dailyQuestion/page-data/flattenBinaryTreeAnswer/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/dailyQuestion/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><header style="background:rebeccapurple;margin-bottom:1.45rem"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0"><a style="color:white;text-decoration:none" href="/dailyQuestion/">Daily Algo Questions</a></h1></div></header><div class="container"><div class="sideNav"><h3>Past Questions:</h3><ul class="oldQuestions"><li><a href="/dailyQuestion/reverseLinkedList"> <!-- -->Reverse a Linked List</a></li><li><a href="/dailyQuestion/validateBST"> <!-- -->Validate BST</a></li><li><a href="/dailyQuestion/flattenBinaryTree"> <!-- -->Flatten a Binary Tree</a></li><li><a href="/dailyQuestion/singleCycleCheck"> <!-- -->Single Cycle Check</a></li><li><a href="/dailyQuestion/minimumNumberOfSteps"> <!-- -->Minimum Number of Steps to Make Two Strings Anagram</a></li><li><a href="/dailyQuestion/shiftLinkedList"> <!-- -->Shift Linked List </a></li><li><a href="/dailyQuestion/productSum"> <!-- -->Product Sum</a></li></ul></div><div class="main" style="margin:0 2%;max-width:960px;padding:0 1.0875rem 1.45rem"><main><h1> <!-- -->May 15th, 2020<!-- -->&#x27;s Answer </h1><h1> <!-- -->Flatten a Binary Tree</h1><div><p>So there are actually two seperate answers to this problem that you can do. The first solution as you will see if much easier then the second solution. I'll show how the second solution optimizes the answer you can get.</p>
<p>Here's an example:</p>
<pre><code>    10
   /  \
  5    15
 / \     \
1   11    19

The tree after being flattened would look like:

1 &#x3C;-> 5 &#x3C;-> 11 &#x3C;-> 10 &#x3C;-> 15 &#x3C;-> 19
</code></pre>
<p>The first thing that you might notice here is the way the doubly linked list has the numbers sorted. This is actually an inorder traversal. If this was a BST then the list would actually be in numerical order. That means that we have to do a in order traversal.</p>
<p>We can do that easily enough with recursion. Here's what that looks like</p>
<div align="left">
<pre><code>public static void flattenBinaryTreeSolutionRecursion(BinaryTree tree, ArrayList&#x3C;BinaryTree> arrAnswer){

    flattenBinaryTreeSolutionRecursion(tree.left, arrAnswer);
    arrAnswer.add(tree);
    flattenBinaryTreeSolutionRecursion(tree.right, arrAnswer);
}
</code></pre>
</div>
<p>That method above will give us the arraylist with the Binary Tree in a array. This will now allow us to basically just walk through the list and set the left and right values of the nodes to the nodes left and right of them. We just have to make sure that we deal with the case of index 0 and the last element.</p>
<p>Here's what that code looks like:</p>
<div align="left">
<pre><code>public static BinaryTree flattenBinaryTreeSolutionOne(BinaryTree root) {
    ArrayList&#x3C;BinaryTree> inOrderArr = new ArrayList&#x3C;>();
    flattenBinaryTreeSolutionRecursion(root, inOrderArr);
    BinaryTree prev = null;
    for(int i = 0; i&#x3C; inOrderArr.size(); i++){
        BinaryTree currNode = inOrderArr.get(i);
        if(i == 0){
            currNode.left = null;
        } else{
            currNode.left = inOrderArr.get(i-1);
        }
        if(i == inOrderArr.size() -1){
            currNode.right = null;
        } else{
            currNode.right = inOrderArr.get(i+1);
        }
    }

    return inOrderArr.get(0);
}
</code></pre>
</div>
<p>We now have a arraylist that has the nodes pointing to the left and right of where the node is. This was a relatively easy solution. But, the space time complexity here is o(n). This is because we are storing the elements of the binary tree in array. Can we optimize this?</p>
<p>Of course we can, it just requires more work.</p>
<p>If we take a look at this tree, do you notice a pattern to how the numbers are organized in the linked list?</p>
<pre><code>    10
   /  \
  5    15
 / \     \
1   11    19

The tree after being flattened would look like:

1 &#x3C;-> 5 &#x3C;-> 11 &#x3C;-> 10 &#x3C;-> 15 &#x3C;-> 19
</code></pre>
<p>If we take a look at node 10, what do you notice the values left and right of it are in the arraylist?</p>
<p>The values are 11 and 19, lets take a look at another example:</p>
<pre><code>    10
   /  \
  5    15
 / \    / \
1   6  11  19

The tree after being flattened would look like:

1 &#x3C;-> 5 &#x3C;-> 6 &#x3C;-> 10 &#x3C;-> 11 &#x3C;-> 15 &#x3C;-> 19
</code></pre>
<p>If you look closely then you will notice that the value left is in the left subtree but is in the right most branch.
Also, the value right of the node is right subtree in the left most branch.</p>
<p>You will find that this property is followed thorughout the tree. In fact, if this was a BST this would make sense. the right most node in the left subtree is actually the closet value to the root node.</p>
<p>How can we use this property to make a algorythm?</p>
<p>We can create something like this:</p>
<div align="left">
<pre><code>public static BinaryTree[] flattenTree(BinaryTree tree){
    BinaryTree leftNode;
    BinaryTree rightNode;

    if(tree.left == null){
        leftNode = tree;
    } else{
        BinaryTree[] leftAndRightMostNode = flattenTree(tree.left);
        connectNodes(leftAndRightMostNode[1], tree);
        leftNode = leftAndRightMostNode[0];
    }

    if(tree.right == null){
        rightNode = tree;
    } else{
        BinaryTree[] rightAndLeftMost = flattenTree(tree.left);
        connectNodes(rightAndLeftMost[1], tree);
        rightNode = rightAndLeftMost[0];
    }
    return new BinaryTree[] {leftNode, rightNode};

}
</code></pre>
</div>
<p>This will allow us to grab the left and nodes for each root recursively. here's all of the code together:</p>
<div align="left">
<pre><code>public static BinaryTree flattenBinaryTreeSolutionTwo(BinaryTree root) {
    flattenTree(root);
    return getLeftMost(root);
}

public static BinaryTree[] flattenTree(BinaryTree tree){
    BinaryTree leftNode;
    BinaryTree rightNode;

    if(tree.left == null){
        leftNode = tree;
    } else{
        BinaryTree[] leftAndRightMostNode = flattenTree(tree.left);
        connectNodes(leftAndRightMostNode[1], tree);
        leftNode = leftAndRightMostNode[0];
    }

    if(tree.right == null){
        rightNode = tree;
    } else{
        BinaryTree[] rightAndLeftMost = flattenTree(tree.left);
        connectNodes(rightAndLeftMost[1], tree);
        rightNode = rightAndLeftMost[0];
    }
    return new BinaryTree[] {leftNode, rightNode};

}

public static void connectNodes(BinaryTree left, BinaryTree right){
    left.right = right;
    right.left = left;
}

public static BinaryTree getLeftMost(BinaryTree node){
    while(node.left != null){
        node = node.left;
    }
    return node;
}
</code></pre>
</div>
<p>That was a hard one, hopefully you understood most of it. It's important to understand how the recursive step works the most since that's what allows most of the logic to flow.</p>
<p>See you tomorrow for another question</p></div><br/><a class="linkToAnswer" href="/dailyQuestion/">Back to Question</a></main></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/flattenBinaryTreeAnswer";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-d2e35bdbcee4a85d6682.js"],"component---src-pages-404-js":["/component---src-pages-404-js-839459fdf5b202fa5b7b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-06f4517d6e863c806bc9.js"],"component---src-templates-answer-template-js":["/component---src-templates-answer-template-js-45b47eaa5d8eb32c4c6a.js"],"component---src-templates-question-template-js":["/component---src-templates-question-template-js-51047e6dddce33999e05.js"]};/*]]>*/</script><script src="/dailyQuestion/component---src-templates-answer-template-js-45b47eaa5d8eb32c4c6a.js" async=""></script><script src="/dailyQuestion/styles-8636a280cbc61d53ad10.js" async=""></script><script src="/dailyQuestion/app-d2e35bdbcee4a85d6682.js" async=""></script><script src="/dailyQuestion/framework-20ef01989315425214b5.js" async=""></script><script src="/dailyQuestion/webpack-runtime-942c3bc6ff079ed8cde2.js" async=""></script></body></html>